---
title: "Паттерн Strategy (Стратегия), туториал: стратегии доступа по ролям пользователей"
category: "Паттерн Strategy (Стратегия)"
shortTitle: "Туториал: стратегии доступа по ролям пользователей"
type: "tutorial"
---

Паттерн Strategy идеально подходит для реализации системы разграничения прав пользователей, где доступные им действия определяются их ролью или контекстом. Вместо «размазывания» условных проверок по всему коду, мы инкапсулируем правила доступа в изолированные стратегии, которые можно независимо друг от друга менять.

Представьте, что вы разрабатываете приложение CMS (Content Management System), которое должно по-разному себя вести в зависимости от роли текущего пользователя.

Если пользователь админ (роль `admin`), то он может редактировать и удалять любую статью.

Обычный зарегистрированный пользователь (роль `user`) может редактировать свои статьи, но не может их удалять.

А пользователь-гость (роль `guest`) может только просматривать статьи, но не может с ними выполнять какие-либо действия (редактировать или удалять).

Вынесем систему прав в независимый модуль и реализуем её в виде отдельных «стратегий» для каждого типа пользователя:

```js
const permissionStrategies = {
  admin: {
    canEdit: () => true,
    canDelete: () => true,
  },
  // ...
```

Преимущества такого подхода:

- изоляция логики: правила для админа не влияют на логику гостя
- добавление новой роли требует только создания ещё одной ветки стратегии
- каждую стратегию можно тестировать независимо от других
