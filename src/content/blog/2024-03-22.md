---
title: "Пульс веб-платформы 22.03.2024"
description: "Новости веб-платформы"
pubDate: "Mar 22 2024"
heroImage: "/blog-placeholder-pulse.jpg"
tags: ["Пульс_веб_платформы"]
---

**Новости**

- [вышел Astro 4.5](https://astro.build/blog/astro-450/): новая встроенная панель аудита сайта, по View Transitions теперь можно перерендерить интерактивные части сайта, обновлён хайлайтер синтаксиса для блоков кода Shiki, поддержка отдельных CDN для разных типов файлов (и заодно ребята отпраздновали 3 года проекта)
- [вышел Firefox 124](https://www.mozilla.org/en-US/firefox/124.0/releasenotes/): добавлена поддержка AbortSignal.any, ::first-letter и ::first-line теперь работают для SVG `<text>`, content-visibility: auto включено по умолчанию (скорость отрисовки сайтов станет быстрее)
- что будет, если вместе соберутся создатель и бывший CEO npm, инжиниринг-менеджер из Github и npm и разработчик из Google? Они попробуют [создать более лучший пакетный менеджер](https://blog.vlt.sh/blog/the-team) (JSR был только началом)!
- [выпущен vitepress](https://github.com/vuejs/vitepress) — генератор статических сайтов из md на vue и vite: изначально генерится статика SSG, а после загрузки инициализируется SPA для дальнейшей навигации по сайту

**Проекты**

- [madge](https://github.com/pahen/madge) — анализ и нахождение циклических зависимостей в проекте, а также постройка визуального графа зависимостей
- [shiki](https://shiki.style/) — стильный хайлайтер кода в браузере + если вы читали документацию по TS на сайте TS, то наверняка запомнили примеры кода с тултипами-аннотациями, в которых показываются «скомпиленные» подсказки: это реализовано с помощью [twoslash](https://github.com/twoslashes/twoslash), который [работает в тандеме с shiki](https://shiki.style/packages/twoslash), а также бонусом библиотека анимирования кода из одного состояния в другой [shiki-magic-move](https://antfu.me/posts/shiki-magic-move)
- [downshift](https://github.com/downshift-js/downshift) — базовые примитивы, заложенные в хуки, для создания доступных выпадашек на React
- [spectacle](https://github.com/FormidableLabs/spectacle) — либа для создания презентаций с помощью React и JSX
- [modernfontstacks](https://modernfontstacks.com/) — наборы шрифтов (включая системные): показывается, какие шрифты используются сейчас в браузере, какие доступны и недоступны

**Статьи и демки**

**JS**

- [автомемоизация React Compiler](https://www.recompiled.dev/blog/type-system/) строится на том, чтобы при выводе типов понять какие значения — примитивы и не момойзить их; собственно, и без React Compiler примитивные значения мемойзить иногда вредно
- [гайд по созданию анимаций с react spring](https://www.sitepoint.com/react-spring-interactive-animations/): есть примеры с простыми и сложными анимациями, впрочем простые анимации можно собрать и на коленке на CSS, разве что в либе есть встроенные «пружинные» изинги
- [сравнительная таблица](https://runtime-compat.unjs.io/) наличия API в разных JS-рантаймах (кроме браузера): заодно освещён рантайм [WinterJS](https://wasmer.io/posts/winterjs-v1), использующий для JS движок SpiderMonkey из FF
- [мастеркласс по экономии на спичках](https://romgrk.com/posts/optimizing-javascript) в JS-коде, если всё остальное уже оптимизировано
- [как настроить среду и TS](https://www.totaltypescript.com/typescript-and-node) для разработки Node-приложения
- [шпаргалка](https://react-typescript-cheatsheet.netlify.app/) по типизации в React-е: если вы когда-нибудь натыкались на заковыристую типизацию, она наверняка раскрыта в этой доке

**CSS**

- напоминание, что [отступы margin и padding недопустимы](https://kyleshevlin.com/no-outer-margin/) в стилях агностик-UI-компонентов, вместо них нужно использовать gap
- свойство contain, которое привносит новизну в [вёрстку двухколоночного лейаута](https://ryanmulligan.dev/blog/50-50-overflow): с contain: size можно «изолировать» лейаут одного элемента от всех остальных (как будто position absolute только в потоке), а также с помощью contain: layout можно [спозиционировать fixed элемент относительно родителя](https://codepen.io/juwain/pen/gOymQOe) (но он перестанет быть fixed!)
- вместо border: 0 лучше писать border-color: transparent, чтобы [не отрубать рамки для контрастного режима](https://frontendmasters.com/blog/you-want-border-color-transparent-not-border-none/) браузера (такое стоит делать хотя бы для @media (forced-colors: active))
- [неочевидные стили для кнопок](https://dbushell.com/2024/03/10/css-button-styles-you-might-not-know/): touch-action: manipulation для отключения зума по двойному тапу, user-select: none для выключение выделения текста, ::file-selector-button для стилизации кнопки input file, аутлайн для фокуса не по клику с :focus-visible
- значение align-items: safe center [для выравнивания элементов без риска обрезать их](https://frontendmasters.com/blog/what-is-safe-alignment-in-css/) в случае появления скролла в контейнере
- [ликбез по боксовой модели CSS](https://piccalil.li/blog/the-box-model-and-box-sizing/), а также сброс неудобной дефолтной настройки box-sizing: content-box
- [удобный дефолт для респонсив-размера шрифта](https://jameshfisher.com/2024/03/12/a-formula-for-responsive-font-size/) font-size: calc(1rem + 0.25vw) вместо дурацкого переключения по разрешениям

**Платформа**

- если ваша монорепа разрастётся до миллиона файлов, то скорее всего в ней начнёт тормозить git; если такое произошло, выхода два: распилить монорепу или [перейти на Mercurial](https://graphite.dev/blog/why-facebook-doesnt-use-git) (как сделали ребята из компании на букву F)
