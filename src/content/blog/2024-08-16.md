---
title: "Пульс веб-платформы 16.08.2024"
description: "Новости веб-платформы"
pubDate: "Aug 16 2024"
heroImage: "/blog-placeholder-pulse.jpg"
tags: ["Пульс_веб_платформы"]
---

### Новости

- [в Webkit (Safari) будет поддержано свойство scrollbar-width:](https://github.com/WebKit/WebKit/pull/31616) в среде разработчиков принято считать, что монополизация индустрии веба Google с помощью Chrome приведёт к стагнации и неминуемой деградации, но есть непопулярное мнение, что централизация движухи в одной ведущей компании сразу же заставляет остальных игроков оперативнее подтягиваться за лидером; так вышло с поддержкой scrollbar-width: в FF это свойство поддерживалось сто лет в обед, но стоило его внедрить в Chrome, как зашевелились в Safari
- но у монополии есть и обратная сторона — к компании сразу же начинают пристальнее присматриваться регуляторы; [вот и Google проигрывает дело,](https://www.bloomberg.com/news/articles/2024-08-05/google-loses-doj-antitrust-suit-over-search) в котором компания обвиняется в приплачивании, чтобы сделать гуглопоиск вариантом по умолчанию; помимо штрафа речь может идти об отделении поискового бизнеса от Android и Chrome
- [вышел Firefox 129:](https://www.mozilla.org/en-US/firefox/129.0/releasenotes/) https-протокол теперь применяется к сайтам по умолчанию, добавлена поддержка `@starting-style` (но пока без анимации из `display: none`) и `transition-behavior`, добавлено превью по наведению на таб и подсветка неправильно использующихся CSS-свойств в дев-тулзах
- [OpenAI выкатили Structured Outputs API:](https://openai.com/index/introducing-structured-outputs-in-the-api/) в предыдущих сериях в компании научили LLM выдавать данные в виде JSON, но проблема в том, что не было гарантии, что в 100% случаев будет соблюдена схема данных и формат; с новым API можно приложить JSON schema и данные будут валидироваться по ней, как если бы это делалось, например, с помощью Zod
- в Sentry придумали и запустили новый вид лицензии открытого кода — [Fair Source Software,](https://fair.io/) идея такая: вы опенсорсов продаёте? нет только показываю
- появилось предложение [ECMAScript Safe Assignment Operator Proposal](https://github.com/arthurfiorette/proposal-safe-assignment-operator) для более краткого написания возможного фейла промиса или throw ошибки: `const [error, response] ?= await fetch("https://url")`
- [CSS Tricks подтвердили, что они ожили!](https://css-tricks.com/css-chronicles-xlii/) Не просто так начали появляться статьи в последнее время, на ресурсе будут теперь публиковаться Geoff Graham, Juan Diego Rodriguez (ранее часто писал для SmashingMag-а) и Ryan Trimble; так глядишь и Крис вернётся
- история с нативной поддержкой TS в Node [получила продолжение:](https://github.com/nodejs/node/pull/54283) теперь поддерживаются TS-only штуки (Enum and namespace)
- [в Chrome начали завозить ai:](https://www.raymondcamden.com/2024/08/13/a-quick-look-at-ai-in-chrome) в dev-версии браузера появился объект `window.ai` с методами `canCreateTextSession`, `createTextSession`, `textModelInfo`

### Проекты

- [pdom](https://github.com/pdomdev/pdom) — ещё один заход в «параллелизацию потоков» DOM, трюк такой: создаём cross origin фрейм для «параллельного» компонента, рендерим туда нужный компонент, встраиваем в хост-приложение и общаемся с компонентом через postMessage
- [floating-ui](https://floating-ui.com/) — Popper умер, да здравствует Floating UI! Либа-наследник Popper для показа всплывающихся тултипов с плюшками в виде анимаций, якорения, обработки скролла
- [react-figma](https://github.com/react-figma/react-figma) — рендерер React-компонентов в Figma (не наоборот!)

### Статьи и демки

#### JS

- [в веб-компонентах в `<slot>`](https://scottjehl.com/posts/html-web-components-shadow-dom/) можно прокидывать внутрь shadow DOM обычный DOM-элемент, а с помощью псевдоэлемента `::slotted(SELECTOR)` можно изнутри shadow DOM стилизовать обычный DOM-элемент (при этом стили снаружи веб-компонента будут приоритетнее внутренних): с печалью считаю, что в рабочем коде это всё будет выглядеть как минимум экзотикой, а как максимум оверинжинирингом
- если вы используете zustand, но вам не хватает событийной модели, можно [присмотреться к xstate/store,](https://tkdodo.eu/blog/introducing-x-state-store) у которого похожий API, но ещё есть вдобавок и триггер событий типа `store.send({ type: 'actionName', someEventParam: 123 })`; бонусом идёт конверт сторов в полноценную state machine (конечный автомат) xstate
- а что если БД будет поставляться прямо в браузер в сжатом виде, с UI и со встроенным ai-помощником? [Получите](https://supabase.com/blog/postgres-new) <https://postgres.new>!

#### CSS

- раньше, чтобы сделать текущий цвет более прозрачным, тёмным или светлым, использовались цветовые функции CSS-препроцессоров; ожидаемо, эту функциональность воссоздали со стороны платформы, только не в виде функций, а с помощью нового цветового формата — [relative color syntax](https://frontendmasters.com/blog/relative-color-syntax-basic-use-cases/) (с недавних пор доступного во всех браузерах)
