---
title: "Пульс веб-платформы 15.11.2024"
description: "Новости веб-платформы"
pubDate: "Nov 15 2024"
heroImage: "/blog-placeholder-pulse.jpg"
tags: ["Пульс_веб_платформы"]
---

**Новости**

- свойства для «подрезки» текста от верхнего и нижнего отступа точно по высоте строки `text-box-trim` и `text-box-edge`, доступные сейчас в [бете Safari 18.2](https://developer.apple.com/documentation/safari-release-notes/safari-18_2-release-notes) вероятно скоро [доедут и до Chrome](https://issues.chromium.org/issues/40254880)
- [обновился черновик CSS Values and Units Module Level 5](https://drafts.csswg.org/css-values-5/#if-notation), внесли синтаксис `if()`, чтобы можно было писать в CSS инлайновые условия в духе: `display: if(style(--feature-flag: true): block; else: none)`
- вышел новый npm-совместимый менеджер пакетов от создателя npm и других достойных мужей — [vlt](https://www.vlt.sh/client), позволяющий, к примеру, отображать зависимости проекта в виде диаграммы или вообще в gui; также вниманию предлагается npm-совместимый реестр [vsr](https://www.vlt.sh/serverless-registry), который можно самостоятельно развернуть у себя бесплатно
- [либа Framer Motion стала независимой](https://motion.dev/blog/framer-motion-is-now-independent-introducing-motion) и переименована её автором Matt Perry в просто в Motion
- если вдруг вы искали способы, как уменьшить количество зависимостей вашего проекта, можете [подглядеть в Storybook 8.4](https://storybook.js.org/blog/storybook-8-4/): с помощью активистов проекта [e18e](https://e18e.dev/) ребята снизили размер проекта на 50+%, а размер лок-файла на 75+% (удалены fs-extra, handlebars, file-system-cache; заменены `lodash` ⇒ `es-toolkit`, `express` ⇒ `polka`, `chalk` ⇒ `picocolors`, `qs` ⇒ `picoquery`; использован production-mode `react`)
- [у CSS появился «официальный» логотип](https://github.com/CSS-Next/logo.css), а заодно продумывается [категоризация](https://github.com/CSS-Next/css-next/discussions/92) на уровни CSS4 и CSS5
- в [Node v18.20.5 LTS](https://nodejs.org/en/blog/release/v18.20.5) import attributes и JSON module помечены как stable и в догонку [статья с объяснениями зачем эта фича нужна](https://www.trevorlasn.com/blog/import-attributes-in-javascript) — чтобы гарантировать, что если в JSON файле придёт исполняемый JS-код, то он не будет выполнен

**Проекты**

- [pinia-colada](https://github.com/posva/pinia-colada) — data-fetching слой для совместной работы со стейт-менеджером Pinia (Vue.js), похоже на Tanstack query, но напрямую подключается к Pinia
- [nano-staged](https://github.com/usmanyunusov/nano-staged) — легковесная альтернатива lint-staged для запуска команд при добавлении в стейдж, коммите файлов в git
- [lexical](https://github.com/facebook/lexical) — оказывается у facebook есть свой опенсорсный текcтовый WYSIWYG-редактор

**Статьи и демки**

**JS**

- метод `dangerouslySetInnerHTML` своим названием как бы напоминает, что если источник HTML вне контроля, то стоит обязательно предварительно [санитайзить контент](https://macarthur.me/posts/safer-dangerouslysetinnerhtml/), ведь внутри может оказать вредоносный скрипт (и не только в теге `<script>`, но и просто в `src` или обработчике `onclick`, `onerror`…); помимо спецлиб для санитайзинга типа [sanitize-html](https://www.npmjs.com/package/sanitize-html), можно воспользоваться браузерной технологией [CSP](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), которая ограничивает возможность запуска инлайновых скриптов
- [рецепт для работы с формами в React](https://www.robinwieruch.de/react-form-data/): на `action` (сервер) или `submit` (клиент) вешается колбек, возвращающий `FormData`, которая парсится `zod` или `zod-form-data`, и при успехе возвращаются деструктурированые значения
- свойства `screenX` и `screenY` [при использовании внешних мониторов](https://www.joshtumath.uk/posts/2024-11-08-how-a-bbc-navigation-bar-component-broke-depending-on-which-external-monitor-it-was-on/) могут рассчитываться по-разному в разных браузерах, иногда принимая отрицательные значения
- напоминание, когда выйдете в понедельник на работу: [проверить tsconfig.json](https://tduyng.com/blog/tsconfig-options-you-should-use/) в вашем проекте на наличие в них ключей `incremental` и `noErrorTruncation`
- иногда в одном интерфейсе [не уместить несколько смежных полей](https://elanmed.dev/blog/conditional-props-using-type-discrimination), например, два разных вида id, в таком случае можно разделить интерфейс на два, в каждом пометить ненужный id опциональным и задать значение never, а затем снова объединить их в один тип через `|`

**CSS**

- среди новинок CSS много тех, которые пока что работают только в Chrome, но также много и [кроссбраузерных фич](https://thomasorus.com/new-css-that-can-actually-be-used-in-2024.html), которые не на слуху, но их можно смело использовать: `inset` и логические значения свойств `block-size`, `inline-start`, `inset-block` и другие, группирующие селекторы `:is`, `:where`, функции сравнения `min`, `max`, `clamp`, единица измерения динамической высоты вьюпорта dvh, media queries range syntax `(width <= 1140px)`
- [при работе с container queries](https://www.joshwcomeau.com/css/container-queries-introduction/) для `container-type` можно задать `inline-size` и `size`; значение `inline-size` указывает браузеру, что инлайновый размер (то есть ширина, width) контейнера больше не связан с его содержимым, то есть в директиве `@container` можно указывать `min-width`/`max-width` не боясь «зацикленности»; значение `container-type: size` наоборот разрывает связь высоты контейнера с его содержимым, то есть можно безопасно «квейрить» свойства «высоты» `@container (min-height/max-height)`
- `overflow: clip` отличается от `overflow: hidden` тем, что [не создаёт скроллов и может обрезать только по одной стороне](https://ishadeed.com/article/overflow-clip/) вместо сразу двух; кроме того, есть свойство `overflow-clip-margin`, которое может задать дополнительное пространство внутри обрезаемой области (жаль, что не поддерживается в Safari)
