---
title: "Пульс веб-платформы 23.08.2024"
description: "Новости веб-платформы"
pubDate: "Aug 23 2024"
heroImage: "/blog-placeholder-pulse.jpg"
tags: ["Пульс_веб_платформы"]
---

### Новости

- [в Node.js решили не включать corepack по умолчанию](https://socket.dev/blog/node-js-takes-steps-towards-removing-corepack), а также выделить его в отдельный проект и выпилить его из базовой поставки Node; с одной стороны вроде как шаг назад, с другой — corepack даёт возможность установки пакетных менеджеров не из npm, что создаёт риски безопасности, и на мой взгляд явно воспринимается как инородный инструмент внутри Node, так что отдельным проектом ему быть не повредит
- в альтернативный RSC-фреймворк [Waku завезли Server Actions](https://waku.gg/blog/server-actions-are-here), и это безусловно хорошо в качестве альтернативы и конкуренции
- в [Astro 4.14](https://astro.build/blog/astro-4140/) появилась API для загрузки контентной структуры файлов извне проекта, есть теперь не обязательно держать движок контентного сайта и сам контент в одном проекте
- в [Node v22.7.0](https://nodejs.org/en/blog/release/v22.7.0) (current) появилась экспериментальная поддержка TS-синтаксиса (Enum и namespace)
- в [Node v20.17.0](https://nodejs.org/en/blog/release/v20.17.0) (lts) бэкпортирован require ESM-модулей, CommonJs-подход окончательно уходит
- вышел [Cheerio 1.0](https://cheerio.js.org/blog/cheerio-1.0) (7 лет разрабатывали до 1.0!) — либа для парсинга и манипуляций с HTML и XML, позволяет, к примеру, методом `fromURL` спарсить HTML с урла, может быть полезно для скрейпинга

### Проекты

- [stepperize](https://github.com/damianricobelli/stepperize) — React-либа для создания пошаговых интерфейсов (например, визардов), типизированная, мало весит, без дефолтных стилей
- [logtape](https://github.com/dahlia/logtape) — логгер для JS/TS с подсветкой типа лога, встроенными фильтрами и выводами в разные места назначения (консоль, поток, файл…)
- [little-date](https://github.com/vercel/little-date) — форматтер диапазонов дат на основе date-fns
- [defensivecss](https://defensivecss.dev/tips) — сборник «пуленепробиваемых» техник в вёрстке от Ahmad Shadeed

### Статьи и демки

#### JS

- в двух словах для чего нужны [TanstackQuery](https://noahflk.com/blog/typesafe-rest-api) — чтобы обернуть асинхронный запрос в синхронный хук и обработать кеширование, и [Zod](https://noahflk.com/blog/typesafe-rest-api) — для объявления типа данных один раз в схеме и инфера типов из схемы, а также для валидации приходящих данных (тк TS не гарантирует типобезопасности входящих данных, `Promise<FetchedData>` усыпляет бдительность)

- если нужно [сгенерить pdf из сайта](https://spacejelly.dev/posts/generate-a-pdf-from-html-in-javascript), то для этого есть пара специализированных либ, либо Puppetier, в котором как и обычном браузере, можно программно сохранить страницу как pdf
- в последнее время развелось так много state-менеджеров, что их уже начинают использовать для продвижения других либ: вот, к примеру, [Legend State — реактивный state-менеджер](https://www.legendapp.com/open-source/state/v3/), стейт заворачивается в `observable`, а компонент в `observer`, у стейта есть методы `get` и `set`, а если понравилось, то можно купить оптимизированные для этого стейт-менеджера компоненты, хуки и хелперы за 200$ (на торрентах отсутствует)
- [в истории развития регекспов](https://www.smashingmagazine.com/2024/08/history-future-regular-expressions-javascript/) есть интересные моменты, например, появление lookbehind-выражения `?<=..`. в es2018, `matchAll` в es2020 и flag `v` в es2024, но тем не менее регекспы нечитаемые (навечно) и поэтому есть пространство для появления либ, «очеловечивающих» регекспы, например, regex
- [основной юзкейс генераторов в JS](https://www.covicale.com/blog/using-javascript-generators-to-visualize-algorithms) — пошаговое исполнение _чего-либо_, например, пошаговое исполнение цикла алгоритма с целью демонстрации его процесса

#### CSS

- если вы всё ещё используете sass, то в Vite и Webpack можно переключить компилятор с sass на sass-embedded [для ускорения работы](https://www.oddbird.net/2024/08/14/sass-compiler/)
- [проверка поддержки @starting-style в CSS](https://www.bram.us/2024/07/11/feature-detect-css-starting-style-support/): создаётся числовое кастомное свойство и внутри `@starting-style` задаётся значение 1, дальше используется в качестве «реле» в транзишнах
- [свойство contain позволяет изолировать элемент](https://frontendmasters.com/blog/the-css-contain-property/), то есть элемент как бы рендерится внутри страницы, но не влияет на общий рендер

#### HTML

- если вдруг вам нужно отрендерить огромные таблицы, используя colspan и rowspan, то вероятно можно уткнуться в [максимальное значение](https://mas.to/@j9t/112926368766374917) для colspan — это 1000, а для rowspan — 65534; если так подумать, то наиболее распространены высокие и неширокие таблицы, что вероятно пошло от бумажного формата ленты и перекочевало в браузеры, это отражено в магических значениях

### Платформа

- а что если подсветку синтаксиса кода в браузере [можно сделать без JS и даже CSS](https://blog.glyphdrawing.club/font-with-built-in-syntax-highlighting/)? Просто встроить цветные глифы в сам моноширинный шрифт! Правда размер шрифта должен подрасти (из-за дублей одинаковых символов во всех цветах), но зато для работы достаточно загрузить и подключить один шрифт
