---
title: "Пульс веб-платформы 19.04.2024"
description: "Новости веб-платформы"
pubDate: "Apr 19 2024"
heroImage: "/blog-placeholder-pulse.jpg"
---

**#Пульс*веб*платформы 19.04.2024**

**Новости**

- [обновления Chrome 124](https://developer.chrome.com/release-notes/124): возможность фокусироваться клавиатурой на скроллер; атрибут writingsuggestions для включения/отключения браузерных подсказок при запонении полей; заголовок priority для HTTP; блок рендера страницы с помощью rel=expect у ссылок, пока гарантировано не загрузится нужный элемент; новый WebSocketStream API, фиксящий недостатки WebSocket API; методы setHTMLUnsafe и parseHTMLUnsafe для доступа к декларативному shadow DOM из JS; pageswap эвент для реакции на переход по View Transitions
- [обновления Safari TP 192](https://webkit.org/blog/15260/release-notes-for-safari-technology-preview-192/): поддержаны View Transitions API, URL.parse(), внесены багфиксы
- [обновления Firefox 125](https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/125): align-content в добавок к гридам и флексбоксам теперь работает и с display: block; поддержан Intl.Segmenter и Popover API
- [обновления Next.js до версии 14.2](https://nextjs.org/blog/next-14-2): продолжено впиливание Turbopack; улучшен тришейкинг и потребление памяти при билде; CSS-чанки теперь подключатся в порядке импортов (странно, что это было не так); появились более явные сообщения об ошибках
- рендер JSX в следующей версии React [обещает быть быстрее](https://github.com/facebook/react/pull/28768) за счёт отказа от клона объекта пропсов в пользу прокидывания его напрямую

**Проекты**

- [svgencode](https://svgencode.com/) — энкодер SVG в URL, base64 и другие вариации (раньше пользовался [энкодером от yoksel](https://yoksel.github.io/url-encoder/), но этот помощнее)
- [react-datepicker](https://github.com/Hacker0x01/react-datepicker) — доступный, фичастый реакт дейтпикер-компонент
- [next-view-transitions](https://github.com/shuding/next-view-transitions) — View Transitions API для Next.js App Router (в догонку ко всем, кто уже внедрил у себя VT)
- [markdowndown](https://markdowndown.vercel.app/) — инструмент для скачивания любого сайта в виде md

**Статьи и демки**

**JS**

- [как быть со StyledComponents в React Server Components](https://www.joshwcomeau.com/react/css-in-rsc/): на сервере context не поддерживается, поэтому SC не могут работать, в принципе; альтернативно можно перейти на compile-time-библиотеки с похожим API — Linaria, Panda CSS или Pigment CSS (основанный на либе, выросшей из Linaria — [wyw-in-js](https://github.com/Anber/wyw-in-js))
- [песочница](https://jsbin.com/safoqap/6/edit?html,output), чтоб поиграть с предложенным Signal API в JS (поиграл, ощущения приятные)
- [подходы к написанию логики retry](https://dev.to/officialanurag/javascript-secrets-how-to-implement-retry-logic-like-a-pro-g57): можно увеличивать время повторного запроса по экспоненте, линейно, рандомно, просто фиксировать задержку или обойтись вовсе без неё
- [в каких случаях (не) нужен GraphQL](https://mxstbr.com/thoughts/graphql/): клиенты ломаются при смене API; долгое время загрузки из-за каскадных запросов; сложность поддержки множественных эндпойнтов; нужна тонкая настройка перфоманса и безопасности
- создатели xState отпилили от него лишнее и получился… [новый стейт-менеджер @xstate/store](https://stately.ai/blog/2024-04-10-xstate-store), основанный на событийной модели

**CSS**

- [галерея копипаст-градиентов](https://csspro.com/css-gradients): линейные, круговые и серобуроказявчатые
- в каких ситуациях [может не сработать aspect-ratio](https://frontendmasters.com/blog/things-that-can-break-aspect-ratio-in-css/): когда заданы явно оба размера, блок растягивает флекс-контейнер, что-то форсит расчёт естественной высоты блока
- [современные CSS-фишечки в Campfire](https://dev.37signals.com/modern-css-patterns-and-techniques-in-campfire/), используются: oklch для высчитывания оттенков цветов; кастомные свойства в фолбеках кастомных свойств color: `var(--btn-color`, `var(--color-text))`; `:has` для определения наличия внутренних элементов `:where(:not([open]):has(.unread))` или их количества `:where(:has(> :last-child:nth-child(2))`; единственное медиавыражение `@media (max-width: 100ch); any-hover: hover` для определения нетач-девайсов

**Платформа**

- как попап об использовании кукис [может навредить перфомансу](https://www.speedcurve.com/blog/web-performance-cookie-consent/): на самом деле относится к любому попапу или всплывающему элементу: скрипты/стили попапа могут загружать основной поток, хотя это явно должно грузиться асинхронно; поисковой робот может неверно определить LCP-элемент (вместо контента самого сайта — баннер или попап); попап может двигать контент (нехорошо для CLS)
- [подборка фишек дев-тулзов](https://frontendmasters.com/blog/devtools-tips-tricks/): обычно в таких списках всё уже известно, но также попадается 1-2 фишки, которые прям вау; так и в этой статье нашлось кое-что новое интересное — эмуляция фокуса на странице (чтобы при переходе в дев-тулзы не закрывался ховер-элемент) и logpoints — console.log, который можно назначить на строке прям из дебаггера
- оказывается, [внутрь PDF можно встраивать JS by design](https://textslashplain.com/2024/04/10/browser-security-bugs-that-arent-javascript-in-pdf/), который можно использовать, например, для XSS-атаки (к счастью, в браузере можно запретить исполнение JS в PDF)
