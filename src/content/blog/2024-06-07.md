---
title: "Пульс веб-платформы 07.06.2024"
description: "Новости веб-платформы"
pubDate: "Jun 07 2024"
heroImage: "/blog-placeholder-pulse.jpg"
---

**#Пульс*веб*платформы 07.06.2024**

**Новости**

- в FF будет добавлена [генерация alt-ов с помощью нейросети](https://hacks.mozilla.org/2024/05/experimenting-with-local-alt-text-generation-in-firefox-nightly/) прямо на устройстве: фича хорошо ложится в тренд, что AI будет появляться в браузерах и помогать пользователям с взаимодействием с сайтами и приложениями
- [вышла react-testing-library v16.0.0](https://github.com/testing-library/react-testing-library/releases/tag/v16.0.0): `@testing-library/dom` и `@types/react-dom` вынесены в отдельные зависимости, чтобы устранить возможные конфликты
- [история с эпичным обновлением eslint продолжается](https://eslint.org/blog/2024/05/eslint-configuration-migrator/): анонсирован ESLint Configuration Migrator — тула для <s>автоматического перевода</s> помощи в переводе .eslintrc.\*-файлов в flat-формат eslint.config.js, чтобы не делать это руками (пока умеет немного и работает с простыми конфигами)
- анонсирован [intent to ship директивы @property в FF](https://groups.google.com/a/mozilla.org/g/dev-platform/c/UhQSvl_v6xk/m/HngYYWOJBwAJ?pli=1) (чтобы объявлять кастомное свойство с нужным типом): пригодится, например, для кроссбраузерного [создания CSS-таймеров](https://frontendmasters.com/blog/how-to-make-a-css-timer/)
- [вышел Rspack v0.7](https://www.rspack.dev/blog/announcing-0-7): добавили lazy compilation (собирается не сразу весь проект, а только входные точки; остальное собирается на лету в момент доступа) и ускорили сборку CSS
- [вышел Turborepo 2.0](https://turbo.build/blog/turbo-2-0): новый консольный UI и watch mode для автозапуска скриптов, у которых нет своего режима `--watch`, например, eslint

**Проекты**

- [client-side-rendering](https://github.com/theninthsky/client-side-rendering) — у нас был Webpack, ленивая подгрузка чанков и ассетов, MutationObserver, современный React, несколько хуков, парочка сервис-воркеров и большое желание не юзать SSR. Не то, чтобы всё это было категорически необходимо в разработке, но если уж начал оптимизировать CSR, то к делу надо подходить серьёзно
- [fxts](https://github.com/marpple/fxts) — либа для функционального программирования на JS/TS c `each`, `filter`, `fx`, `map`, `pipe`, `range` и другой функциональщиной на борту

**Статьи и демки**

**JS**

- [разбор темы дата-фетчинга в SPA](https://martinfowler.com/articles/data-fetch-spa.html) c асинхронной реализацией, параллельными запросами, и, что показалось мне интересным, с [разбором паттерна prefetch](https://martinfowler.com/articles/data-fetch-spa.html#prefetching) с помощью либы [swr](https://swr.vercel.app/): предзагружаем бандл следующего компонента по onMouseEnter и заодно результат запроса кешируется и больше повторно не запрашивается
- `Intl.DateTimeFormat` как альтернатива moment.js и date-fns для [форматирования даты в нужном виде](https://rafaelcamargo.com/blog/mastering-date-formatting-using-intl-date-time-format-in-javascript/), умеет: длинный/короткий формат в зависимости от локали, дни недели, минуты, часы, секунды, таймзоны, 12/24 часа
- статьи Josh Comeau всегда приятно читать, независимо от темы, вот и [статья про промисы подоспела](https://www.joshwcomeau.com/javascript/promises/), вроде база, а изложена хорошо
- [бестпрактисы создания хуков на примере SOLID-принципов](https://dev.to/perssondennis/write-solid-react-hooks-436o): к примеру, HOC, подмешивающий данные через проп в компонент — это такой себе DI «на коленке»
- [сборник новинок Node за последнее время](https://snyk.io/blog/10-modern-node-js-runtime-features/): встроенный test runner, watch mode, corepack, .env loader, import.meta.file для **dirname и **file, timers promises

**CSS**

- [свежий гайд по единицам измерениям CSS](https://css-tricks.com/css-length-units/), примечателен двумя моментами: 1) выглядит, что Geoff Graham вернулся к написанию статей на CSS Tricks, возможно ресурс оживёт, 2) когда объявляется кастомное свойство `@property --hue { syntax: "<number>" }`, по сути это пользовательская «единица измерения»
- [свойство gap для флексбоксов](https://ishadeed.com/article/the-gap/) работает с Chrome 84, FF 63, Safari 14.1, то есть давно достойно применения, если нужен условный отступ между элементами, выключающийся при переносе на новую строку, в двунаправленных лейаутах, комбинируется с марджинами
- есть такой частый кейс — анимация с `0` до `auto`, которую из-за особенностей CSS не возможно сделать через `calc()`, поэтому есть [предложение ввести новую функцию calc-size()](https://github.com/w3c/csswg-drafts/blob/main/css-values-5/calc-size-explainer.md), которая сможет анимировать между значениями, если одно из них intrinsic (`auto`, `fit-content`, `stretch`…)

**HTML**

- [как можно улучшить якорные ссылки](https://codersblock.com/blog/anchor-links-and-how-to-make-them-awesome/): `scroll-behavior: smooth` для плавного скролла, `scroll-margin-top` и `scroll-padding-top` для отступа после скролла, `:has(h1:target)` для стилизации таргет-элемента
- если вы до сих пишете `rel="noopener"` для безопасности, [это можно уже не делать](https://www.stefanjudis.com/today-i-learned/target-blank-implies-rel-noopener/), так как браузеры сами неявно применяют эту фичу

**Платформа**

- то, что размер DOM (количество DOM-элементов) напрямую влияет на перфоманс как-то интуитивно понятно, но интересна деталь, что существенно сказывается именно [глубина вложенности DOM-элементов друг в друга](https://frontendatscale.com/blog/how-deep-is-your-dom/) (глубина в 5000 элементов скажется уже на этапе построения дерева, даже до стилей)
