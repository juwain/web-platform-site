---
title: "Пульс веб-платформы 20.12.2024"
description: "Новости веб-платформы"
pubDate: "Dec 20 2024"
heroImage: "/blog-placeholder-pulse.jpg"
---

**#Пульс*веб*платформы 20.12.2024**

**Новости**

- [вышла Node.js v23.4.0](https://nodejs.org/en/blog/release/v23.4.0): из-под флага вынесен модуль `node:sqlite`, то есть теперь по дефолту доступно создание SQLite-бд, [выполнение SQL-запросов](https://nodejs.org/api/sqlite.html) напрямую в Node
- [прошёл 105-й митинг TC39](https://dev.to/hemanth/updates-from-the-105th-tc39-meeting-3gkh): [Intl.DurationFormat](https://github.com/tc39/proposal-intl-duration-format) продвинулся на Stage 4, [Error.isError](https://github.com/es-shims/Error.isError) на Stage 3, а также на Stage 1 появился [Import Sync](https://github.com/tc39/proposal-import-sync) — нативный способ синхронных импортов в JS `import.sync('react')`
- [появились результаты опроса State of JS 2024](https://2024.stateofjs.com/), 14к разработчиков преимущественно мужчины из США и EC среднего возраста и 5-10 лет работы в индустрии поделились статой: уже довольно популярны `Object.groupBy()`, `Promise.allSettled()`, `array.toSorted()`, `string.replaceAll/matchAll()`, но в мешает браузерная поддержка, а также болит отсутствие статической типизации из коробки; webpack, Parcel, а также отдельно esbuild и Rollup продолжили уступать позиции Vite; React/Next.js в целом в топе, но с годами популярность падает и люди страдают от их разнообразных проблем и сложности, Vue.js примерно на том же месте по популярности, что и в 2021; pnpm заметно популярнее npm/yarn workspaces; Astro многим нравится, популярность Lit чуть подросла; Vitest стремительно набирает популярность, но Jest всё ещё также в топе, хоть и вызывает страдания (Deno и Node с их встроенными возможностями тестирования пока на дне); в топе используемых либ Lodash, date-fns, Zod, Moment, Day.js; Express всё ещё намного популярнее Nest и Fastify; большинство опрошенных используют TS на фронте, больше половины — на бэке; больные точки: архитектура, стейт-менеджмент, управление состоянием, билд-тулы
- [Ecma выпустили спецификацию Source map format](https://426.ecma-international.org/1.0/index.html): цели — поддержать двунаправленный маппинг сорсов и деобфускация стэк-трейсов на сервере
- [17 декабря исполнилось 28 лет CSS](https://www.w3.org/press-releases/1996/css1-rec/): забавно, что со временем всё больше людей начинают работать с технологиями, которые старше их самих, и от этого воспринимают их «древними»

**Проекты**

- [prompts-js](https://github.com/simonw/prompts-js) — асинхронные версии вызова диалогов `alert`, `confirm` и `prompt` на промисах и нативном элементе `<dialog>` (просто JS-файл, красота, если бы ещё добавить JSDoc с описанием типов, то вообще было бы идеально)

**Статьи и демки**

**JS**

- [некоторое время назад](https://turso.tech/blog/introducing-limbo-a-complete-rewrite-of-sqlite-in-rust) SQLite решили полностью переписать на Rust (оригинальный модуль [libsql](https://github.com/tursodatabase/libsql) написан на C, что делает его уязвимым со стороны памяти по своей природе) и так появился проект [limbo](https://github.com/tursodatabase/limbo), который в случае успешного завершения заменит libsql; интересно, как будет выглядеть в этом случае поддержка со стороны Node
- забавное замечание: чтобы выполнить полный test suite Node.js может занять несколько дней, поэтому это делает не на каждый чих, и поэтому [сравнивая 20 и 22 версии ноды](https://nodesource.com/blog/State-of-Nodejs-Performance-2024), некоторые API показали улучшение по перфомансу, а некоторые наоборот просадку
- общепринято, что в JSON нельзя добавлять комментарии, но это правило можно нарушить, если вы уверены, что JSON-парсер, который будет читать ваш файл, [не сломается в процессе](https://douglascrockfordisnotyourdad.technomancy.us)
- если вы задались [задачей рендерить веб-компоненты на сервере](https://jakelazaroff.com/words/isomorphic-web-components/), то нужно решить проблему отсутствия DOM-а и глобальных объектов (window, document…): для этого можно использовать фреймворк ([Lit](https://lit.dev/), [WebC](https://www.11ty.dev/docs/languages/webc/), [Enhance](https://enhance.dev/)) или же взять либу [Happy DOM](https://www.npmjs.com/package/happy-dom) — «безголовую» эмуляцию DOM, взять оттуда необходимые объекты и сгенерить HTML и JS
- в React 19 появилась [более полная поддержка веб-компонентов](https://frontendmasters.com/blog/react-19-and-web-component-examples/): теперь можно в «пропах» веб-компонента прокидывать объекты или функцию-колбек (даже с кастомным событием)
- [в управлении состоянием в React-приложениях](https://www.frontendundefined.com/posts/monthly/react-state-management-reflections/) стоит выносить работу с ним из рендер-функций, в идеале не используя `useState`/`useEffect` там, где можно их использовать (то есть почти везде)
- в случае прокидывания сеттера в дочерний компонент вместо использования «общей» функции-колбека начинает «течь» абстракция, [этого лучше всего по умолчанию избегать](https://matanbobi.dev/posts/stop-passing-setter-functions-to-components)

**CSS**

- [ключевой момент из внедрения Container Queries в Netflix](https://web.dev/case-studies/netflix-cq) — меньше использования CSS- и JS-кода для управлением лейаутом → меньше багов, но при этом если использовать полифилл, то могут быть проблемы с перфом, надо проверять
